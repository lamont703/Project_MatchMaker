<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VibeMatch - It's a Match!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            background: #8B5CF6 !important;
            /* Fallback color */
            background: -webkit-linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%) !important;
            background: -moz-linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%) !important;
            background: -o-linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%) !important;
            background: linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%) !important;
            background-attachment: fixed;
            min-height: 100vh;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            background: #8B5CF6 !important;
            /* Fallback color */
            background: -webkit-linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%) !important;
            background: -moz-linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%) !important;
            background: -o-linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%) !important;
            background: linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%) !important;
            background-attachment: fixed;
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 420px;
            margin: 0 auto;
            min-height: 100vh;
            position: relative;
            padding: 40px 24px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .celebration {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .confetti {
            position: absolute;
            font-size: 24px;
            animation: fall 3s linear infinite;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }

            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .match-content {
            text-align: center;
            z-index: 2;
            position: relative;
            animation: slideUp 0.8s ease-out;
        }

        @keyframes slideUp {
            0% {
                transform: translateY(50px);
                opacity: 0;
            }

            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .match-title {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 16px;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }
        }

        .match-subtitle {
            font-size: 18px;
            opacity: 0.9;
            margin-bottom: 40px;
        }

        .profiles-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 32px;
        }

        .profile-card {
            background: rgba(255, 255, 255, 0.15);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            flex: 1;
            max-width: 140px;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #F97316, #EA580C);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            margin: 0 auto 12px;
        }

        .profile-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .profile-vibe {
            background: rgba(255, 255, 255, 0.2);
            padding: 6px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .heart-icon {
            font-size: 32px;
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        @keyframes heartbeat {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
            }
        }

        .compatibility-score {
            background: rgba(255, 255, 255, 0.2);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 32px;
            text-align: center;
        }

        .score-number {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #FFF, #F0F9FF);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .score-text {
            font-size: 18px;
            font-weight: 500;
        }

        .vibe-summary {
            background: rgba(255, 255, 255, 0.15);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 32px;
        }

        .vibe-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            text-align: center;
        }

        .vibe-match {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .vibe-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .vibe-info {
            flex: 1;
        }

        .vibe-name {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 2px;
        }

        .vibe-desc {
            font-size: 12px;
            opacity: 0.8;
        }

        .icebreaker {
            background: rgba(255, 255, 255, 0.15);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 32px;
        }

        .icebreaker-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .icebreaker-text {
            background: rgba(255, 255, 255, 0.2);
            padding: 16px;
            border-radius: 12px;
            font-style: italic;
            line-height: 1.4;
        }

        .action-buttons {
            display: flex;
            gap: 12px;
            width: 100%;
        }

        .btn {
            flex: 1;
            padding: 18px 24px;
            border: none;
            border-radius: 16px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn-primary {
            background: white;
            color: #8B5CF6;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        @media (max-width: 480px) {
            .container {
                padding: 20px 16px;
            }

            .match-title {
                font-size: 36px;
            }

            .profiles-container {
                gap: 12px;
            }

            .profile-card {
                padding: 16px;
            }

            .profile-avatar {
                width: 60px;
                height: 60px;
                font-size: 24px;
            }

            .score-number {
                font-size: 36px;
            }

            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Confetti Animation -->
        <div class="celebration" id="celebration"></div>

        <div class="match-content">
            <h1 class="match-title" id="matchTitle">üéâ It's a Match!</h1>
            <p class="match-subtitle" id="matchSubtitle">You and Taylor have connected!</p>

            <!-- Profile Cards -->
            <div class="profiles-container">
                <div class="profile-card">
                    <div class="profile-avatar">üë§</div>
                    <div class="profile-name">You</div>
                    <div class="profile-vibe">üåç Explorer</div>
                </div>

                <div class="heart-icon">üíñ</div>

                <div class="profile-card">
                    <div class="profile-avatar">üë©</div>
                    <div class="profile-name">Taylor</div>
                    <div class="profile-vibe">üåç Explorer</div>
                </div>
            </div>

            <!-- Compatibility Score -->
            <div class="compatibility-score">
                <div class="score-number">87%</div>
                <div class="score-text">Compatible</div>
            </div>

            <!-- Vibe Summary -->
            <div class="vibe-summary">
                <div class="vibe-title">üß† Why You Match</div>

                <div class="vibe-match">
                    <div class="vibe-icon">üåç</div>
                    <div class="vibe-info">
                        <div class="vibe-name">Both Explorers</div>
                        <div class="vibe-desc">Love adventure & new experiences</div>
                    </div>
                </div>

                <div class="vibe-match">
                    <div class="vibe-icon">‚òï</div>
                    <div class="vibe-info">
                        <div class="vibe-name">Shared Interests</div>
                        <div class="vibe-desc">Coffee, hiking, photography</div>
                    </div>
                </div>

                <div class="vibe-match">
                    <div class="vibe-icon">‚≠ê</div>
                    <div class="vibe-info">
                        <div class="vibe-name">High Energy Match</div>
                        <div class="vibe-desc">Similar social & activity levels</div>
                    </div>
                </div>
            </div>

            <!-- AI Icebreaker -->
            <div class="icebreaker">
                <div class="icebreaker-title">
                    ü§ñ AI Conversation Starter
                </div>
                <div class="icebreaker-text">
                    "I noticed you love discovering hidden coffee shops too! What's the most interesting place you've
                    found recently? ‚òï‚ú®"
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="startChatting()" id="chatBtn">
                    üí¨ Start Chatting
                </button>
                <button class="btn btn-secondary" onclick="keepSwiping()" id="continueBtn">
                    üî• Keep Swiping
                </button>
            </div>
        </div>
    </div>

    <script>
        // Create confetti animation
        function createConfetti() {
            const celebration = document.getElementById('celebration');
            const confettiEmojis = ['üéâ', '‚ú®', 'üíñ', 'üéä', '‚≠ê', 'üí´', 'üåü'];

            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.textContent = confettiEmojis[Math.floor(Math.random() * confettiEmojis.length)];
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.animationDelay = Math.random() * 3 + 's';
                    confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';

                    celebration.appendChild(confetti);

                    // Remove confetti after animation
                    setTimeout(() => {
                        if (confetti.parentNode) {
                            confetti.parentNode.removeChild(confetti);
                        }
                    }, 5000);
                }, i * 100);
            }
        }

        // Mode detection and configuration
        const userMode = localStorage.getItem('vibematch_mode') || 'both';

        const modeConfig = {
            'friends': {
                title: 'üåü Friend Match!',
                subtitle: 'You and Taylor have connected as friends!',
                actionText: 'Start Chatting',
                continueText: 'Keep Connecting',
                heartIcon: 'üåü'
            },
            'dating': {
                title: 'üíñ It\'s a Match!',
                subtitle: 'You and Taylor have connected!',
                actionText: 'Start Chatting',
                continueText: 'Keep Swiping',
                heartIcon: 'üíñ'
            },
            'both': {
                title: '‚ú® Connection Made!',
                subtitle: 'You and Taylor have connected!',
                actionText: 'Start Chatting',
                continueText: 'Keep Exploring',
                heartIcon: '‚ú®'
            }
        };

        function initializeInterface() {
            const config = modeConfig[userMode];

            // Update match messaging
            document.getElementById('matchTitle').textContent = config.title;
            document.getElementById('matchSubtitle').textContent = config.subtitle;

            // Update heart icon
            const heartIcon = document.querySelector('.heart-icon');
            if (heartIcon) {
                heartIcon.textContent = config.heartIcon;
            }

            // Update button text
            document.getElementById('continueBtn').innerHTML = `üî• ${config.continueText}`;
        }

        function startChatting() {
            // Show loading state
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = 'Opening chat...';
            btn.disabled = true;

            setTimeout(() => {
                window.location.href = 'demo-chat.html';
            }, 1000);
        }

        function keepSwiping() {
            const config = modeConfig[userMode];

            // Animate back to swiping
            const btn = event.target;
            btn.textContent = `Back to ${config.continueText.toLowerCase()}...`;
            btn.disabled = true;

            setTimeout(() => {
                window.location.href = 'demo-swipe.html';
            }, 800);
        }

        // Auto-create confetti on page load
        window.addEventListener('load', () => {
            initializeInterface();
            createConfetti();

            // Continue creating confetti periodically
            setInterval(createConfetti, 3000);
        });

        // Add celebration sound effect simulation
        function playCelebrationSound() {
            // In a real app, you would play an actual sound file
            console.log('üéµ Playing celebration sound!');
        }

        // Trigger celebration sound on load
        window.addEventListener('load', playCelebrationSound);
    </script>

    <!-- GHL Tracking Pixel -->
    <img src="https://api.leadconnectorhq.com/tracking/pixel.gif?account=ACCOUNT_ID&event=match_result_view"
        style="position:absolute;left:-9999px;top:-9999px;width:1px;height:1px;" alt="" />

    <script>
        // GHL Analytics Integration for Match Results
        function ghlMatchTrack(event, data = {}) {
            // Google Analytics / GTM tracking
            if (typeof gtag !== 'undefined') {
                gtag('event', event, {
                    event_category: 'VibeMatch_Match_Success',
                    event_label: event,
                    ...data
                });
            }

            // Send to GHL webhook for celebration automation
            fetch('https://api.leadconnectorhq.com/webhook/vibematch-match-tracking', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    event: event,
                    timestamp: new Date().toISOString(),
                    page: 'match_result',
                    data: data
                })
            }).catch(console.error);
        }

        // Track match success - this is a key conversion event
        window.addEventListener('load', function () {
            const userMode = localStorage.getItem('vibematch_mode') || 'both';

            ghlMatchTrack('match_success', {
                userMode: userMode,
                matchType: userMode === 'friends' ? 'friend_match' :
                    userMode === 'dating' ? 'dating_match' : 'open_match',
                compatibilityScore: 87,
                matchedProfile: 'Taylor',
                personalityType: 'Explorer',
                source: 'demo',
                conversionStage: 'match_achieved'
            });

            // This is a high-value event - user has successfully matched!
            ghlMatchTrack('high_engagement_user', {
                source: 'match_result',
                userMode: userMode,
                engagementLevel: 'very_high'
            });
        });

        // Override the startChatting function to add GHL tracking
        const originalStartChatting = startChatting;
        startChatting = function () {
            const userMode = localStorage.getItem('vibematch_mode') || 'both';

            ghlMatchTrack('chat_initiated', {
                source: 'match_result',
                userMode: userMode,
                matchType: userMode === 'friends' ? 'friend_match' :
                    userMode === 'dating' ? 'dating_match' : 'open_match',
                conversionStage: 'chat_start'
            });

            originalStartChatting();
        };

        // Override the keepSwiping function to track continued engagement
        const originalKeepSwiping = keepSwiping;
        keepSwiping = function () {
            const userMode = localStorage.getItem('vibematch_mode') || 'both';

            ghlMatchTrack('continued_swiping', {
                source: 'match_result',
                userMode: userMode,
                engagementLevel: 'high',
                action: 'keep_swiping'
            });

            originalKeepSwiping();
        };

        // Track time spent celebrating (engagement metric)
        let celebrationStartTime = Date.now();
        window.addEventListener('beforeunload', function () {
            const timeSpent = Math.round((Date.now() - celebrationStartTime) / 1000);
            ghlMatchTrack('celebration_time', {
                timeSpent: timeSpent,
                engagementLevel: timeSpent > 30 ? 'high' : timeSpent > 10 ? 'medium' : 'low'
            });
        });

        // Track confetti animation views (user enjoyed the experience)
        let confettiViews = 0;
        const originalCreateConfetti = createConfetti;
        createConfetti = function () {
            confettiViews++;
            if (confettiViews === 1) {
                ghlMatchTrack('celebration_animation_view', {
                    animationType: 'confetti',
                    userEngagement: 'positive'
                });
            }
            originalCreateConfetti();
        };

        // Track AI icebreaker interaction
        document.querySelector('.icebreaker').addEventListener('click', function () {
            ghlMatchTrack('ai_icebreaker_viewed', {
                source: 'match_result',
                suggestion: 'coffee_shop_conversation',
                engagementLevel: 'high'
            });
        });

        // Track page visibility for engagement analysis
        document.addEventListener('visibilitychange', function () {
            if (document.hidden) {
                ghlMatchTrack('match_page_hidden', {
                    celebrationTime: Math.round((Date.now() - celebrationStartTime) / 1000)
                });
            } else {
                ghlMatchTrack('match_page_visible', {
                    returningUser: true
                });
            }
        });

        // Track successful match for A/B testing personality assessment effectiveness
        const personalityData = {
            personalityType: 'Explorer',
            compatibilityScore: 87,
            sharedInterests: ['coffee', 'hiking', 'photography'],
            energyLevel: 'high'
        };

        ghlMatchTrack('personality_matching_success', {
            ...personalityData,
            source: 'personality_quiz',
            matchingAlgorithm: 'personality_based',
            success: true
        });
    </script>
</body>

</html>